{"remainingRequest":"E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\node_modules\\babel-loader\\lib\\index.js!E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\src\\frameworks\\breadcrumb.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\src\\frameworks\\breadcrumb.vue","mtime":1658221250962},{"path":"E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\babel.config.js","mtime":1654570980000},{"path":"E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNvbW1vbk1lbnUgZnJvbSAiLi8uLi9jb21wb25lbnRzL2NvbW1vbk1lbnUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJycsCiAgY29tcG9uZW50czogewogICAgY29tbW9uTWVudQogIH0sCgogIGRhdGEoKSB7CiAgICB2YXIgcm9sZXMgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdyb2xlcycpIHx8ICJbXSI7CiAgICByb2xlcyA9IEpTT04ucGFyc2Uocm9sZXMpOwogICAgdmFyIHRBcnIgPSByb2xlcy5tYXAoaXRlbSA9PiB7CiAgICAgIHJldHVybiBpdGVtLm5hbWU7CiAgICB9KTsKICAgIHZhciBtRGF0YSA9IE1lbnVDb25maWcub3RoZXI7CiAgICB2YXIgaXNBZG1pbiA9IHRBcnIuaW5kZXhPZigi566h55CG5ZGYIikgIT09IC0xOwoKICAgIGlmIChpc0FkbWluKSB7CiAgICAgIG1EYXRhID0gTWVudUNvbmZpZy5hZG1pbjsKICAgIH0KCiAgICB2YXIgdXNlckluZm8gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpIHx8ICJ7fSI7CiAgICByZXR1cm4gewogICAgICB1cGxvYWQ6IGFkYXB0ZXIuY29uZmlnLnVwbG9hZC51cmwsCiAgICAgIHRlbXBsYXRlOiAibW9jay90ZW1wbGF0ZS54bHN4IiwKICAgICAgbG9nb1RleHQ6IGRvY3VtZW50LnRpdGxlLAogICAgICBjdXJyZW50QnJlYWRjcnVtYjogW10sCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgdXNlckluZm86IEpTT04ucGFyc2UodXNlckluZm8pLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgdG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIiksCiAgICAgICAgdXNlcklkOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKQogICAgICB9LAogICAgICByb2xlczogcm9sZXMsCiAgICAgIGlzQWRtaW46IGlzQWRtaW4sCiAgICAgIGRldGFpbERpYWxvZzogewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHRpdGxlOiAi5LiK5Lyg5pWw5o2uIiwKICAgICAgICB3aWR0aDogIjcwMHB4IgogICAgICB9LAogICAgICBtZW51RGF0YTogewogICAgICAgIGRlZmF1bHRBY3RpdmU6IHRoaXMuJHJvdXRlLnBhdGgsCiAgICAgICAgZGF0YTogbURhdGEKICAgICAgfSwKICAgICAgcGF0aE1hcDogewogICAgICAgIOS7u+WKoeaJp+ihjDogJy9pbXBsZW1lbnQvdGFza0xpc3QnLAogICAgICAgIOaKpeWRiumAmuaKpTogJy90YXNrUmVwb3J0TGlzdCcKICAgICAgfSwKICAgICAgYnJlYWRjcnVtYk1hcDogewogICAgICAgIHRhc2tSZXBvcnRMaXN0OiBbJ+S7u+WKoeaJp+ihjCcsICfmiqXlkYrpgJrmiqUnXSwKICAgICAgICBjb25maXJtVGFza0RhdGE6IFsn5Lu75Yqh5omn6KGMJywgJ+WIhuaekOWNsOivgSddLAogICAgICAgICdkYXRhTWFuYWdlci1yZXBvcnREZXRhaWxzJzogWyfphY3nva7kuK3lv4MnLCAn5pWw5o2u566h55CGJywgJ+e0oOadkOivpuaDhSddLAogICAgICAgICdyZXBvcnRCcm93c2UtcmVwb3J0RGV0YWlscyc6IFsn5Lu75Yqh5omn6KGMJywgJ+aKpeWRiua1j+iniCcsICfmn6XnnIvmiqXlkYonXQogICAgICB9CiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICAkcm91dGUodG8sIGZyb20pIHsKICAgICAgdmFyIGsgPSBmcm9tLm5hbWUgKyAnLScgKyB0by5uYW1lOwogICAgICB0aGlzLmN1cnJlbnRCcmVhZGNydW1iID0gdGhpcy5icmVhZGNydW1iTWFwW2tdIHx8IHRoaXMuYnJlYWRjcnVtYk1hcFt0by5uYW1lXSB8fCBbXTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1cnJlbnRCcmVhZGNydW1iIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50QnJlYWRjcnVtYikpOyAvLyB0aGlzLm1lbnVEYXRhLmRlZmF1bHRBY3RpdmUgPSB0aGlzLiRyb3V0ZS5wYXRoOwoKICAgICAgdGhpcy4kcmVmcy5tZW51SXRlbS5kZWZhdWx0QWN0aXZlID0gdGhpcy4kcm91dGUucGF0aDsKICAgIH0KCiAgfSwKCiAgYmVmb3JlTW91bnQodG8sIGZyb20sIG5leHQpIHsKICAgIGxldCBjb2RlID0gdXRpbC5nZXRDb2RlKCk7CiAgICBjb25zb2xlLmxvZygiIyMjY29kZToiLCBjb2RlKTsKCiAgICBpZiAoY29kZSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi90cmFuc2l0aW9uIgogICAgICB9KTsKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgZmxhZygpIHsKICAgICAgLy/mmK/lkKbmmL7npLrpnaLljIXlsZEKICAgICAgdmFyIHJldCA9ICEhdGhpcy5jdXJyZW50QnJlYWRjcnVtYiAmJiB0aGlzLmN1cnJlbnRCcmVhZGNydW1iLmxlbmd0aCAhPT0gMDsKICAgICAgcmV0dXJuIHJldDsKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHZhciB0QnJlYWRjcnVtYiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRCcmVhZGNydW1iIikpOwogICAgdGhpcy5jdXJyZW50QnJlYWRjcnVtYiA9IHRCcmVhZGNydW1iIHx8IHRoaXMuYnJlYWRjcnVtYk1hcFt0aGlzLiRyb3V0ZS5uYW1lXSB8fCBbXTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBoYW5kbGVFeGl0TG9naW4oKSB7CiAgICAgIHV0aWwubG9naW5PdXQoKTsKICAgIH0sCgogICAgY29uZmlybVVwbG9hZCgpIHsKICAgICAgLy/liKTmlq3mmK/lkKbmnInmlofku7blho3kuIrkvKAKICAgICAgaWYgKHRoaXMuZmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5Y+W5paH5Lu25ZCO5YaN5LiK5LygJyk7CiAgICAgIH0gLy8g5LiL6Z2i55qE5Luj56CB5bCG5Yib5bu65LiA5Liq56m655qERm9ybURhdGHlr7nosaE6CgoKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsgLy8g5L2g5Y+v5Lul5L2/55SoRm9ybURhdGEuYXBwZW5k5p2l5re75Yqg6ZSuL+WAvOWvueWIsOihqOWNlemHjOmdou+8mwoKICAgICAgdGhpcy5maWxlTGlzdC5mb3JFYWNoKGZpbGUgPT4gewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUucmF3KTsKICAgICAgfSk7CgogICAgICB2YXIgX3NlbGYgPSB0aGlzOwoKICAgICAgYWRhcHRlci51cGxvYWQoZm9ybURhdGEsIGZ1bmN0aW9uICh0RGF0YSkgewogICAgICAgIGlmICh0RGF0YS5kYXRhLmNvZGUgPT09IDIwMDAwIHx8IHREYXRhLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfc2VsZi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS4iuS8oOaIkOWKn++8gSIKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChfc2VsZi4kcmVmcy51cGxvYWREZW1vKSB7CiAgICAgICAgICAgIF9zZWxmLiRyZWZzLnVwbG9hZERlbW8uY2xlYXJGaWxlcygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZUNoYW5nZShmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICB9LAoKICAgIC8vIOWIoOmZpOaWh+S7tuS5i+WJjeeahOmSqeWtkO+8jOWPguaVsOS4uuS4iuS8oOeahOaWh+S7tuWSjOaWh+S7tuWIl+ihqO+8jOiLpei/lOWbniBmYWxzZSDmiJbogIXov5Tlm54gUHJvbWlzZSDkuJTooqsgcmVqZWN077yM5YiZ5YGc5q2i5Yig6Zmk44CCZnVuY3Rpb24oZmlsZSwgZmlsZUxpc3QpCiAgICBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0OwogICAgfSwKCiAgICBoYW5kbGVVcGxvYWREYXRhKCkgewogICAgICB0aGlzLmRldGFpbERpYWxvZy52aXNpYmxlID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLiRyZWZzLnVwbG9hZERlbW8pIHsKICAgICAgICB0aGlzLiRyZWZzLnVwbG9hZERlbW8uY2xlYXJGaWxlcygpOwogICAgICB9CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"AAoEA,OAAOA,UAAP,MAAuB,4BAAvB;AACA,eAAe;EACbC,IAAI,EAAE,EADO;EAEbC,UAAU,EAAE;IACVF;EADU,CAFC;;EAKbG,IAAI,GAAG;IACL,IAAIC,KAAI,GAAIC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAmC,IAA/C;IACAF,KAAI,GAAIG,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAR;IACA,IAAIK,IAAG,GAAIL,KAAK,CAACM,GAAN,CAAUC,IAAG,IAAK;MAC3B,OAAOA,IAAI,CAACV,IAAZ;IACD,CAFU,CAAX;IAGA,IAAIW,KAAI,GAAIC,UAAU,CAACC,KAAvB;IACA,IAAIC,OAAM,GAAKN,IAAI,CAACO,OAAL,CAAa,KAAb,MAAwB,CAAC,CAAxC;;IACA,IAAID,OAAJ,EAAa;MACXH,KAAI,GAAIC,UAAU,CAACI,KAAnB;IACF;;IACA,IAAIC,QAAO,GAAIb,cAAc,CAACC,OAAf,CAAuB,UAAvB,KAAsC,IAArD;IACA,OAAO;MACLa,MAAM,EAAEC,OAAO,CAACC,MAAR,CAAeF,MAAf,CAAsBG,GADzB;MAELC,QAAQ,EAAE,oBAFL;MAGLC,QAAQ,EAAEC,QAAQ,CAACC,KAHd;MAILC,iBAAiB,EAAE,EAJd;MAKLC,QAAQ,EAAE,EALL;MAMLV,QAAQ,EAAEX,IAAI,CAACC,KAAL,CAAWU,QAAX,CANL;MAOLW,OAAO,EAAE;QACPC,KAAK,EAAEzB,cAAc,CAACC,OAAf,CAAuB,OAAvB,CADA;QAEPyB,MAAM,EAAE1B,cAAc,CAACC,OAAf,CAAuB,QAAvB;MAFD,CAPJ;MAWLF,KAAK,EAAEA,KAXF;MAYLW,OAAO,EAAEA,OAZJ;MAaLiB,YAAY,EAAE;QACZC,OAAO,EAAE,KADG;QAEZP,KAAK,EAAE,MAFK;QAGZQ,KAAK,EAAE;MAHK,CAbT;MAkBLC,QAAQ,EAAE;QACRC,aAAa,EAAE,KAAKC,MAAL,CAAYC,IADnB;QAERnC,IAAI,EAAES;MAFE,CAlBL;MAsBL2B,OAAO,EAAE;QACPC,IAAI,EAAE,qBADC;QAEPC,IAAI,EAAE;MAFC,CAtBJ;MA0BLC,aAAa,EAAE;QACbC,cAAc,EAAE,CAAC,MAAD,EAAS,MAAT,CADH;QAEbC,eAAe,EAAE,CAAC,MAAD,EAAS,MAAT,CAFJ;QAGb,6BAA6B,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAHhB;QAIb,8BAA8B,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB;MAJjB;IA1BV,CAAP;EAiCD,CAlDY;;EAmDbC,KAAK,EAAE;IACLR,MAAM,CAACS,EAAD,EAAKC,IAAL,EAAW;MACf,IAAIC,IAAID,IAAI,CAAC9C,IAAL,GAAY,GAAZ,GAAkB6C,EAAE,CAAC7C,IAA7B;MACA,KAAK0B,iBAAL,GACE,KAAKe,aAAL,CAAmBM,CAAnB,KAAyB,KAAKN,aAAL,CAAmBI,EAAE,CAAC7C,IAAtB,CAAzB,IAAwD,EAD1D;MAEAgD,YAAY,CAACC,OAAb,CAAqB,mBAArB,EAA0C3C,IAAI,CAAC4C,SAAL,CAAe,KAAKxB,iBAApB,CAA1C,EAJe,CAKf;;MACA,KAAKyB,KAAL,CAAWC,QAAX,CAAoBjB,aAApB,GAAoC,KAAKC,MAAL,CAAYC,IAAhD;IACD;;EARI,CAnDM;;EA6DbgB,WAAW,CAACR,EAAD,EAAKC,IAAL,EAAWQ,IAAX,EAAiB;IAC1B,IAAIC,IAAG,GAAIC,IAAI,CAACC,OAAL,EAAX;IACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,IAAxB;;IACA,IAAIA,IAAJ,EAAU;MACR,KAAKK,OAAL,CAAaC,IAAb,CAAkB;QAChBxB,IAAI,EAAE;MADU,CAAlB;IAGF;EACD,CArEY;;EAsEbyB,QAAQ,EAAE;IACRC,IAAI,GAAG;MACL;MACA,IAAIC,GAAE,GAAK,CAAC,CAAC,KAAKtC,iBAAP,IAA4B,KAAKA,iBAAL,CAAuBuC,MAAvB,KAAkC,CAAzE;MACA,OAAOD,GAAP;IACF;;EALQ,CAtEG;;EA6EbE,OAAO,GAAG;IACR,IAAIC,WAAU,GAAI7D,IAAI,CAACC,KAAL,CAAWyC,YAAY,CAAC3C,OAAb,CAAqB,mBAArB,CAAX,CAAlB;IACA,KAAKqB,iBAAL,GAAyByC,WAAU,IAAK,KAAK1B,aAAL,CAAmB,KAAKL,MAAL,CAAYpC,IAA/B,CAAf,IAAuD,EAAhF;EACD,CAhFY;;EAiFboE,OAAO,EAAE;IACPC,eAAe,GAAG;MAChBb,IAAI,CAACc,QAAL;IACD,CAHM;;IAKPC,aAAa,GAAG;MACd;MACA,IAAI,KAAK5C,QAAL,CAAcsC,MAAd,KAAyB,CAA7B,EAAgC;QAC9B,OAAO,KAAKO,QAAL,CAAcC,OAAd,CAAsB,WAAtB,CAAP;MACF,CAJc,CAKd;;;MACA,MAAMC,QAAO,GAAI,IAAIC,QAAJ,EAAjB,CANc,CAOd;;MACA,KAAKhD,QAAL,CAAciD,OAAd,CAAuBC,IAAD,IAAU;QAC9BH,QAAQ,CAACI,MAAT,CAAgB,MAAhB,EAAwBD,IAAI,CAACE,GAA7B;MACD,CAFD;;MAGA,IAAIC,KAAI,GAAI,IAAZ;;MACA7D,OAAO,CAACD,MAAR,CAAewD,QAAf,EAAyB,UAAUO,KAAV,EAAiB;QACxC,IAAIA,KAAK,CAAC/E,IAAN,CAAWqD,IAAX,KAAoB,KAApB,IAA6B0B,KAAK,CAAC/E,IAAN,CAAWqD,IAAX,KAAoB,GAArD,EAA0D;UACxDyB,KAAK,CAACR,QAAN,CAAe;YACbU,IAAI,EAAE,SADO;YAEbC,OAAO,EAAE;UAFI,CAAf;;UAIA,IAAIH,KAAK,CAAC7B,KAAN,CAAYiC,UAAhB,EAA4B;YAC1BJ,KAAK,CAAC7B,KAAN,CAAYiC,UAAZ,CAAuBC,UAAvB;UACF;QACF;MACD,CAVD;IAWD,CA5BM;;IA6BPC,YAAY,CAACT,IAAD,EAAOlD,QAAP,EAAiB;MAC3B,KAAKA,QAAL,GAAgBA,QAAhB;IACD,CA/BM;;IAgCP;IACA4D,YAAY,CAACV,IAAD,EAAOlD,QAAP,EAAiB;MAC3B,KAAKA,QAAL,GAAgBA,QAAhB;IACD,CAnCM;;IAoCP6D,gBAAgB,GAAG;MACjB,KAAKzD,YAAL,CAAkBC,OAAlB,GAA4B,IAA5B;;MACA,IAAI,KAAKmB,KAAL,CAAWiC,UAAf,EAA2B;QACzB,KAAKjC,KAAL,CAAWiC,UAAX,CAAsBC,UAAtB;MACF;IACF;;EAzCO;AAjFI,CAAf","names":["commonMenu","name","components","data","roles","sessionStorage","getItem","JSON","parse","tArr","map","item","mData","MenuConfig","other","isAdmin","indexOf","admin","userInfo","upload","adapter","config","url","template","logoText","document","title","currentBreadcrumb","fileList","headers","token","userId","detailDialog","visible","width","menuData","defaultActive","$route","path","pathMap","任务执行","报告通报","breadcrumbMap","taskReportList","confirmTaskData","watch","to","from","k","localStorage","setItem","stringify","$refs","menuItem","beforeMount","next","code","util","getCode","console","log","$router","push","computed","flag","ret","length","created","tBreadcrumb","methods","handleExitLogin","loginOut","confirmUpload","$message","warning","formData","FormData","forEach","file","append","raw","_self","tData","type","message","uploadDemo","clearFiles","handleChange","handleRemove","handleUploadData"],"sourceRoot":"","sources":["E:\\golaxy\\zstp\\西浦大学\\authorityForecast\\src\\frameworks\\breadcrumb.vue"],"sourcesContent":["<template>\r\n<div class=\"mainFramework\" :withBreadcrumb=\"flag\">\r\n  <div class=\"topMenuArea\">\r\n    <span class=\"logoText\">{{logoText}}</span>\r\n    <div class=\"topRightArea\">\r\n      <el-dropdown v-if=\"!!userInfo && userInfo.realName\">\r\n        <span class=\"el-dropdown-link\">\r\n          <span class=\"userInfoArea ellipsis\">\r\n            <el-icon>\r\n              <UserFilled />\r\n            </el-icon>{{userInfo.realName}}\r\n          </span>\r\n          <el-icon class=\"el-icon--right arrowDown\">\r\n            <arrow-down />\r\n          </el-icon>\r\n        </span>\r\n        <template #dropdown>\r\n          <el-dropdown-menu>\r\n            <el-dropdown-item v-if=\"isAdmin\" @click=\"handleUploadData\">上传数据</el-dropdown-item>\r\n            <el-dropdown-item @click=\"handleExitLogin\">退出登录</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </template>\r\n      </el-dropdown>\r\n      <el-button class=\"loginBtn\" v-else type=\"primary\" @click=\"handleExitLogin\" link>登录</el-button>\r\n      <commonMenu ref=\"menuItem\" class=\"commonMenuArea\" :menuInfo=\"menuData\"></commonMenu>\r\n    </div>\r\n  </div>\r\n  <div class=\"contentArea\">\r\n    <div class=\"breadcrumbArea\" v-if=\"currentBreadcrumb && currentBreadcrumb.length !== 0\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <slot v-for=\"(d, i) in currentBreadcrumb\">\r\n          <slot v-if=\"i === currentBreadcrumb.length - 1 || !pathMap[d]\">\r\n            <el-breadcrumb-item>{{ d }}</el-breadcrumb-item>\r\n          </slot>\r\n          <slot v-else>\r\n            <el-breadcrumb-item class=\"activeItem\" :to=\"{ path: pathMap[d] }\">{{\r\n              d\r\n            }}</el-breadcrumb-item>\r\n          </slot>\r\n        </slot>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"routeContentArea\">\r\n      <router-view> </router-view>\r\n      <div class=\"copyrightArea\">Copyright © 2019-2022 知识图谱产品组</div>\r\n    </div>\r\n\r\n  </div>\r\n  <el-dialog ref=\"dialogDom\" :title=\"detailDialog.title\" v-model=\"detailDialog.visible\" :width=\"detailDialog.width\" :center=\"detailDialog.center || false\">\r\n    <el-button @click=\"confirmUpload\" type=\"success\" style=\"position: absolute; top: 90px; right: 25px; z-index: 3;\">确认上传</el-button>\r\n    <el-upload :auto-upload=\"false\" :file-list=\"fileList\" :on-change=\"handleChange\" :on-remove=\"handleRemove\" ref=\"uploadDemo\" :headers=\"headers\" class=\"upload-demo\" drag :action=\"upload\" multiple>\r\n      <el-icon class=\"el-icon--upload\">\r\n        <upload-filled />\r\n      </el-icon>\r\n      <div class=\"el-upload__text\">\r\n       拖动文件到这， 或者<em>通过点击选择文件</em>\r\n      </div>\r\n      <template #tip>\r\n        <div class=\"el-upload__tip\">\r\n          一次性上传excel文件和多张图片，文件内容需符合模板内容规范(<a :href=\"template\" download=\"template.xlsx\">点击下载excel文件模板</a>)\r\n        </div>\r\n      </template>\r\n    </el-upload>\r\n  </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport commonMenu from \"./../components/commonMenu\"\r\nexport default {\r\n  name: '',\r\n  components: {\r\n    commonMenu\r\n  },\r\n  data() {\r\n    var roles = sessionStorage.getItem('roles') || \"[]\";\r\n    roles = JSON.parse(roles);\r\n    var tArr = roles.map(item => {\r\n      return item.name\r\n    });\r\n    var mData = MenuConfig.other;\r\n    var isAdmin = (tArr.indexOf(\"管理员\") !== -1);\r\n    if (isAdmin) {\r\n      mData = MenuConfig.admin;\r\n    }\r\n    var userInfo = sessionStorage.getItem(\"userInfo\") || \"{}\";\r\n    return {\r\n      upload: adapter.config.upload.url,\r\n      template: \"mock/template.xlsx\",\r\n      logoText: document.title,\r\n      currentBreadcrumb: [],\r\n      fileList: [],\r\n      userInfo: JSON.parse(userInfo),\r\n      headers: {\r\n        token: sessionStorage.getItem(\"token\"),\r\n        userId: sessionStorage.getItem(\"userId\")\r\n      },\r\n      roles: roles,\r\n      isAdmin: isAdmin,\r\n      detailDialog: {\r\n        visible: false,\r\n        title: \"上传数据\",\r\n        width: \"700px\",\r\n      },\r\n      menuData: {\r\n        defaultActive: this.$route.path,\r\n        data: mData\r\n      },\r\n      pathMap: {\r\n        任务执行: '/implement/taskList',\r\n        报告通报: '/taskReportList',\r\n      },\r\n      breadcrumbMap: {\r\n        taskReportList: ['任务执行', '报告通报'],\r\n        confirmTaskData: ['任务执行', '分析印证'],\r\n        'dataManager-reportDetails': ['配置中心', '数据管理', '素材详情'],\r\n        'reportBrowse-reportDetails': ['任务执行', '报告浏览', '查看报告'],\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    $route(to, from) {\r\n      var k = from.name + '-' + to.name;\r\n      this.currentBreadcrumb =\r\n        this.breadcrumbMap[k] || this.breadcrumbMap[to.name] || [];\r\n      localStorage.setItem(\"currentBreadcrumb\", JSON.stringify(this.currentBreadcrumb));\r\n      // this.menuData.defaultActive = this.$route.path;\r\n      this.$refs.menuItem.defaultActive = this.$route.path;\r\n    },\r\n  },\r\n  beforeMount(to, from, next) {\r\n    let code = util.getCode();\r\n    console.log(\"###code:\", code);\r\n    if (code) {\r\n      this.$router.push({\r\n        path: \"/transition\"\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    flag() {\r\n      //是否显示面包屑\r\n      var ret = (!!this.currentBreadcrumb && this.currentBreadcrumb.length !== 0);\r\n      return ret;\r\n    }\r\n  },\r\n  created() {\r\n    var tBreadcrumb = JSON.parse(localStorage.getItem(\"currentBreadcrumb\"));\r\n    this.currentBreadcrumb = tBreadcrumb || this.breadcrumbMap[this.$route.name] || [];\r\n  },\r\n  methods: {\r\n    handleExitLogin() {\r\n      util.loginOut();\r\n    },\r\n\r\n    confirmUpload() {\r\n      //判断是否有文件再上传\r\n      if (this.fileList.length === 0) {\r\n        return this.$message.warning('请选取文件后再上传')\r\n      }\r\n      // 下面的代码将创建一个空的FormData对象:\r\n      const formData = new FormData()\r\n      // 你可以使用FormData.append来添加键/值对到表单里面；\r\n      this.fileList.forEach((file) => {\r\n        formData.append('file', file.raw)\r\n      });\r\n      var _self = this;\r\n      adapter.upload(formData, function (tData) {\r\n        if (tData.data.code === 20000 || tData.data.code === 200) {\r\n          _self.$message({\r\n            type: \"success\",\r\n            message: \"上传成功！\"\r\n          });\r\n          if (_self.$refs.uploadDemo) {\r\n            _self.$refs.uploadDemo.clearFiles();\r\n          }\r\n        }\r\n      })\r\n    },\r\n    handleChange(file, fileList) {\r\n      this.fileList = fileList\r\n    },\r\n    // 删除文件之前的钩子，参数为上传的文件和文件列表，若返回 false 或者返回 Promise 且被 reject，则停止删除。function(file, fileList)\r\n    handleRemove(file, fileList) {\r\n      this.fileList = fileList\r\n    },\r\n    handleUploadData() {\r\n      this.detailDialog.visible = true;\r\n      if (this.$refs.uploadDemo) {\r\n        this.$refs.uploadDemo.clearFiles();\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.mainFramework {\r\n  float: left;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='scale')\";\r\n  -moz-background-size: 100% 100%;\r\n  background-size: 100vw 100%;\r\n  display: block;\r\n  padding-top: 64px;\r\n  position: relative;\r\n}\r\n\r\n.topMenuArea {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  height: 62px;\r\n  line-height: 62px;\r\n  width: 100%;\r\n  text-align: center;\r\n  box-sizing: border-box;\r\n  padding-left: 10px;\r\n  border-bottom: solid 0px #666;\r\n  box-shadow: 0px 0px 2px #000;\r\n}\r\n\r\n.logoText {\r\n  display: inline-block;\r\n  height: 64px;\r\n  line-height: 64px;\r\n  margin-right: 20px;\r\n  width: auto !important;\r\n  color: #ddd;\r\n\r\n}\r\n\r\n.logoText {\r\n  font-weight: 800;\r\n  font-size: 20px;\r\n}\r\n\r\n.userInfoArea {\r\n  line-height: 64px;\r\n  cursor: pointer;\r\n  margin-right: 10px;\r\n  max-width: 90px;\r\n  color: #ddd;\r\n  z-index: 2;\r\n  display: inline-block;\r\n}\r\n\r\n.el-dropdown-link i.arrowDown {\r\n  display: inline-block;\r\n  margin-top: -52px;\r\n}\r\n\r\n.el-icon {\r\n  vertical-align: middle;\r\n  font-size: 20px;\r\n}\r\n\r\n.contentArea {\r\n  position: relative;\r\n  background-color: #f2f2f2;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n}\r\n\r\n.mainFramework[withBreadcrumb='true'] .contentArea {\r\n  padding-top: 64px;\r\n}\r\n\r\n.mainFramework[withBreadcrumb='false'] .contentArea {\r\n  padding-top: 0px;\r\n}\r\n\r\n.contentArea .breadcrumbArea {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  line-height: 64px;\r\n  width: 100%;\r\n  height: 64px;\r\n}\r\n\r\n.routeContentArea {\r\n  width: 100%;\r\n  position: relative;\r\n  height: 100%;\r\n  overflow: auto;\r\n  background-color: #f2f2f2;\r\n\r\n}\r\n\r\n/* :deep(.el-dialog__body) {\r\n  height: 250px;\r\n} */\r\n\r\n.topRightArea {\r\n  position: absolute;\r\n  display: inline-block;\r\n  right: 10px;\r\n  line-height: 64px;\r\n  height: 64px;\r\n  z-index: 2;\r\n  width: calc(50% - 100px);\r\n}\r\n\r\n.commonMenuArea {\r\n  position: absolute;\r\n  right: 150px;\r\n  line-height: 64px;\r\n  height: 64px;\r\n  width: calc(100% - 100px);\r\n  display: inline-block;\r\n}\r\n\r\n.commonMenuArea .el-menu--horizontal {\r\n  text-align: right;\r\n}\r\n\r\n.loginBtn,\r\n.el-dropdown {\r\n  position: absolute;\r\n  right: 0px;\r\n  line-height: 64px;\r\n  height: 64px;\r\n  z-index: 2;\r\n}\r\n\r\n.dialogContentArea {\r\n  position: relative;\r\n  float: left;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.uploadItemArea {\r\n  width: calc(100% - 120px);\r\n  display: inline-block;\r\n  float: left;\r\n}\r\n\r\n.confirmUploadArea {\r\n  width: 120px;\r\n  display: inline-block;\r\n  float: left;\r\n  text-align: right;\r\n}\r\n\r\n.routeContentArea>.moduleItemArea {\r\n  float: none !important;\r\n  position: relative;\r\n  padding-left: 10px;\r\n  padding-top: 10px;\r\n  max-width: 1200px;\r\n  margin: auto;\r\n  height: auto;\r\n  min-height: calc(100% - 40px);\r\n  overflow: auto;\r\n}\r\n\r\n.copyrightArea {\r\n  float: left;\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n  padding: 10px 0px;\r\n  font-size: 14px;\r\n  background: rgba(0, 11, 66);\r\n  color: #999;\r\n}\r\n</style>\r\n"]}]}